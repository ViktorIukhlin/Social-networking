{"version":3,"sources":["../node_modules/redux-form/es/Form.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["Form","_Component","props","_this","call","this","_reduxForm","Error","_inheritsLoose","_proto","prototype","UNSAFE_componentWillMount","registerInnerOnSubmit","onSubmit","render","_this$props","rest","_objectWithoutPropertiesLoose","React","createElement","Component","propTypes","PropTypes","func","isRequired","object","withReduxForm","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","onDoubleClick","ProfileInfo","profile","className","style","container","boxPhoto","photo","src","photos","large","alt","blockAbout","name","info","Preloader","Post","s","post","id","message","likesCount","maxLength10","maxLengthCreator","ReduxAddNewPostForm","reduxForm","form","area","handleSubmit","Field","component","Textarea","validate","required","placeholder","MyPosts","memo","myPosts","posts","map","item","key","values","addPost","newPostText","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Main","main","picture","ProfileContainer","userId","match","params","authorizedUserId","history","push","getUserProfile","getStatus","Profile","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.e239203c.chunk.js","sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withReduxForm } from './ReduxFormContext';\n\nvar Form = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    if (!props._reduxForm) {\n      throw new Error('Form must be inside a component decorated with reduxForm()');\n    }\n\n    return _this;\n  }\n\n  var _proto = Form.prototype;\n\n  _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit);\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _reduxForm = _this$props._reduxForm,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"_reduxForm\"]);\n\n    return /*#__PURE__*/React.createElement(\"form\", rest);\n  };\n\n  return Form;\n}(Component);\n\nForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  _reduxForm: PropTypes.object\n};\nexport default withReduxForm(Form);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"boxPhoto\":\"ProfileInfo_boxPhoto__alVup\",\"photo\":\"ProfileInfo_photo__12V5_\",\"name\":\"ProfileInfo_name__1S0LI\",\"info\":\"ProfileInfo_info__7S1gl\",\"post\":\"ProfileInfo_post__TV24d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Profile_main__uyElh\",\"picture\":\"Profile_picture__2ZrMU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"MyPosts_post__ckCo6\",\"area\":\"MyPosts_area__qf_gd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3i7WC\"};","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport style from './ProfileInfo.module.css';\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  useEffect ( () => {\r\n    setStatus(props.status);\r\n  }, [props.status] );\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  }\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  }\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n  }\r\n  return (\r\n    <div>\r\n      {!editMode \r\n      ?\r\n        <div>\r\n          <span onDoubleClick={activateEditMode}>{props.status || \"No status\"}</span>\r\n        </div>\r\n      :\r\n        <div>\r\n          <input onChange={onStatusChange} autoFocus={true} onBlur={ deactivateEditMode } value={status}/>\r\n        </div>\r\n      } \r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport style from './ProfileInfo.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\nconst ProfileInfo = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n    return (\r\n        <div className={style.container}>\r\n            <div className={style.boxPhoto}>\r\n                <img className={style.photo} src={props.profile.photos.large} alt=\"PhotoMy\" />\r\n            </div>\r\n            <div className={style.blockAbout}>\r\n                <div className={style.name}>Batton B.</div>\r\n\r\n                <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n                <div className={style.info}>Date of Brith: 2 january</div>\r\n                <div className={style.info}>City: Saint-Petersburg</div>\r\n                <div className={style.info}>Education: BSU'11</div>\r\n                <div className={style.info}>Web Site: https://batton-batonovich.com</div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.post}>\r\n            <img src=\"https://s0.rbk.ru/v6_top_pics/resized/1200xH/media/img/2/31/755913669534312.jpg\" alt=\"avatar\" />\r\n                <br/>{props.id}:{props.message} \r\n            <div>\r\n                <span> {props.likesCount} like</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Post;","import React from 'react';\r\nimport { Field, Form, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validators';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Textarea} from '../../common/FormsControls/FormsControls'\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return(\r\n    <Form className={s.area} onSubmit={props.handleSubmit}>\r\n      <Field name=\"newPostText\" component={Textarea} validate={[required, maxLength10]} placeholder=\"Post message\"/>\r\n      <button>Send</button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nlet ReduxAddNewPostForm = reduxForm({form: \"profileAddNewPostForm\"}) (AddNewPostForm);\r\n\r\nconst MyPosts = React.memo((props) => {\r\n   \r\n  let myPosts = props.posts.map(\r\n    item => <Post id={item.id} message={item.message} key={item.id} likesCount={item.likesCount} />\r\n  )\r\n\r\n  const onAddPost = (values) => {\r\n    props.addPost(values.newPostText);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      My Post\r\n      <ReduxAddNewPostForm onSubmit={onAddPost}/>\r\n      <div className={s.posts}>\r\n        {myPosts}\r\n      </div>\r\n    </div>\r\n  )\r\n});\r\n\r\n\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n \r\nimport {addPostActionCreator} from '../../../redux/profileReducer'\r\nimport MyPosts from './MyPosts';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText));\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nconst Main = (props) => {\r\n    return (\r\n        <main className={s.main}>\r\n            <div>\r\n                <img className={s.picture} src=\"https://image.freepik.com/free-vector/neon-light-arrow-direction-perspective_1017-22033.jpg\" alt=\"gras\" />\r\n\r\n                <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n                <MyPostsContainer />\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Profile from './Profile';\r\nimport {getUserProfile, getStatus, updateStatus} from '../../redux/profileReducer'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component{\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if(!userId){\r\n      userId = this.props.authorizedUserId;\r\n      if(!userId){\r\n        this.props.history.push(\"/login\")\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }    \r\n  render() {\r\n    return (\r\n      <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus = {this.props.updateStatus}/>\r\n  )}\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose (\r\n  connect (mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n  withRouter\r\n) (ProfileContainer)\r\n\r\n"],"sourceRoot":""}